

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>hio.core.serial.serialing &mdash; hio 0.3.4 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> hio
          

          
          </a>

          
            
            
              <div class="version">
                0.3.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../readme.html">Introduction to HIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../modules.html">src</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">hio</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">hio.core.serial.serialing</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/autoapi/hio/core/serial/serialing/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-hio.core.serial.serialing">
<span id="hio-core-serial-serialing"></span><h1><a class="reference internal" href="../../../../../hio.core.serial.html#module-hio.core.serial.serialing" title="hio.core.serial.serialing"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hio.core.serial.serialing</span></code></a><a class="headerlink" href="#module-hio.core.serial.serialing" title="Permalink to this headline">¶</a></h1>
<p>Asynchronous (nonblocking) serial io</p>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../../../hio.core.serial.html#hio.core.serial.serialing.Console" title="hio.core.serial.serialing.Console"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Console</span></code></a></p></td>
<td><p>Class to manage non blocking io on serial console in canonical mode.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../../../hio.core.serial.html#hio.core.serial.serialing.ConsoleServer" title="hio.core.serial.serialing.ConsoleServer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ConsoleServer</span></code></a></p></td>
<td><p>Class that extends Console with service interface.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../../../hio.core.serial.html#hio.core.serial.serialing.Device" title="hio.core.serial.serialing.Device"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Device</span></code></a></p></td>
<td><p>Class to manage non blocking IO on serial device port.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../../../hio.core.serial.html#hio.core.serial.serialing.Serial" title="hio.core.serial.serialing.Serial"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Serial</span></code></a></p></td>
<td><p>Class to manage non blocking IO on serial device port using pyserial</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../../../hio.core.serial.html#hio.core.serial.serialing.Driver" title="hio.core.serial.serialing.Driver"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Driver</span></code></a></p></td>
<td><p>Nonblocking Serial Device Port Driver</p></td>
</tr>
</tbody>
</table>
<dl class="py exception">
<dt id="hio.core.serial.serialing.LineError">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">hio.core.serial.serialing.</span></code><code class="sig-name descname"><span class="pre">LineError</span></code><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#LineError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.LineError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../../../hio.html#hio.hioing.HioError" title="hio.hioing.HioError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hio.hioing.HioError</span></code></a></p>
<p>Serial line error. Too big for buffer.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>raise LineError(“error message”)</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="hio.core.serial.serialing.Console">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hio.core.serial.serialing.</span></code><code class="sig-name descname"><span class="pre">Console</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Console"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Console" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage non blocking io on serial console in canonical mode.</p>
<p>Opens non blocking read file descriptor on console
Use instance method .close to close file descriptor
Use instance methods .getline &amp; .put to read &amp; write to console
Needs os module</p>
<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">.bs</span> <span class="pre">is</span> <span class="pre">max</span> <span class="pre">buffer</span> <span class="pre">size</span> <span class="pre">for</span> <span class="pre">each</span> <span class="pre">read</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">.fd</span>&#160; <span class="pre">is</span> <span class="pre">file</span> <span class="pre">descriptor</span> <span class="pre">for</span> <span class="pre">console</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">.opened</span> <span class="pre">is</span> <span class="pre">Boolean</span> <span class="pre">that</span> <span class="pre">indicates</span> <span class="pre">open</span> <span class="pre">state</span> <span class="pre">of</span> <span class="pre">.fd</span></code></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname"><span class="pre">.reopen</span>&#160; <span class="pre">closes</span> <span class="pre">and</span> <span class="pre">reopens</span> <span class="pre">.fd,</span> <span class="pre">sets</span> <span class="pre">.opened</span></code></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname"><span class="pre">.close</span>&#160;&#160; <span class="pre">closes</span> <span class="pre">.fd</span> <span class="pre">unsets</span> <span class="pre">.opened</span></code></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname"><span class="pre">.getLine</span>&#160; <span class="pre">gets</span> <span class="pre">one</span> <span class="pre">newline</span> <span class="pre">terminated</span> <span class="pre">line</span> <span class="pre">or</span> <span class="pre">bs</span> <span class="pre">characters</span></code></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname"><span class="pre">.put</span>&#160; <span class="pre">puts</span> <span class="pre">characters</span></code></dt>
<dd></dd></dl>

<dl class="simple">
<dt>Hidden:</dt><dd><p>._line is bytearray of line buffer</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="hio.core.serial.serialing.Console.MaxBufSize">
<code class="sig-name descname"><span class="pre">MaxBufSize</span></code><em class="property"> <span class="pre">=</span> <span class="pre">256</span></em><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Console.MaxBufSize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Console.MaxBufSize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Console.reopen">
<code class="sig-name descname"><span class="pre">reopen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Console.reopen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Console.reopen" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens fd on terminal console in non blocking mode.</p>
<p>port is the serial port device path name
or if ‘’ then use os.ctermid() which
returns path name of console usually ‘/dev/tty’</p>
<p>os.O_NONBLOCK makes non blocking io
os.O_RDWR allows both read and write.
os.O_NOCTTY don’t make this the controlling terminal of the process
O_NOCTTY is only for cross platform portability BSD never makes it the
controlling terminal</p>
<p>Don’t use print at same time since it will mess up non blocking reads.</p>
<p>Input mode assumes Canonical means no characters available until a newline
It appears that canonical mode only applies to the console os.ctermid().
For other serial ports the characters are available immediately.</p>
<p>os.isatty(fd)
Return True if the file descriptor fd is open and connected to a
tty(-like) device, else False.</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Console.close">
<code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Console.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Console.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes fd.</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Console.put">
<code class="sig-name descname"><span class="pre">put</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">b'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Console.put"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Console.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes data bytes to console and return number of bytes from data written.</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Console.getLine">
<code class="sig-name descname"><span class="pre">getLine</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Console.getLine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Console.getLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets nonblocking line of bytes from console
of up to bs characters with eol newline if in bs characters</p>
<p>Returns empty string if no characters available else returns line.
Assumes canonical mode where no chars available to read until eol newline
is entered and eol is included in the read characters.</p>
<p>Strips eol newline before returning line.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="hio.core.serial.serialing.ConsoleServer">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hio.core.serial.serialing.</span></code><code class="sig-name descname"><span class="pre">ConsoleServer</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">puts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwa</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#ConsoleServer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.ConsoleServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../../../../../hio.core.serial.html#hio.core.serial.serialing.Console" title="hio.core.serial.serialing.Console"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Console</span></code></a></p>
<p>Class that extends Console with service interface.</p>
<dl class="simple">
<dt>Inherited Attributes:</dt><dd><p>.bs is max buffer size for each read
.fd  is file descriptor for console
.opened is Boolean that indicates open state of .fd</p>
</dd>
</dl>
<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">.puts</span> <span class="pre">is</span> <span class="pre">bytearray</span> <span class="pre">of</span> <span class="pre">bytes</span> <span class="pre">to</span> <span class="pre">put</span> <span class="pre">on</span> <span class="pre">serial</span> <span class="pre">port</span></code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname"><span class="pre">.lines</span> <span class="pre">is</span> <span class="pre">deque</span> <span class="pre">of</span> <span class="pre">lines</span> <span class="pre">of</span> <span class="pre">bytes</span> <span class="pre">gotten</span> <span class="pre">from</span> <span class="pre">serial</span> <span class="pre">port</span></code></dt>
<dd><p>each line has newline stripped.</p>
</dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname"><span class="pre">.reopen</span>&#160; <span class="pre">closes</span> <span class="pre">and</span> <span class="pre">reopens</span> <span class="pre">.fd,</span> <span class="pre">sets</span> <span class="pre">.opened</span></code></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname"><span class="pre">.close</span>&#160;&#160; <span class="pre">closes</span> <span class="pre">.fd</span> <span class="pre">unsets</span> <span class="pre">.opened</span></code></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname"><span class="pre">.getLine</span>&#160; <span class="pre">gets</span> <span class="pre">one</span> <span class="pre">newline</span> <span class="pre">terminated</span> <span class="pre">line</span> <span class="pre">or</span> <span class="pre">bs</span> <span class="pre">characters</span></code></dt>
<dd></dd></dl>

<dl class="py method">
<dt>
<code class="sig-name descname"><span class="pre">.put</span>&#160; <span class="pre">puts</span> <span class="pre">characters</span></code></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.ConsoleServer..servicePuts">
<code class="sig-prename descclassname"><span class="pre">.</span></code><code class="sig-name descname"><span class="pre">servicePuts</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hio.core.serial.serialing.ConsoleServer..servicePuts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.ConsoleServer..serviceLines">
<code class="sig-prename descclassname"><span class="pre">.</span></code><code class="sig-name descname"><span class="pre">serviceLines</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hio.core.serial.serialing.ConsoleServer..serviceLines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.ConsoleServer..service">
<code class="sig-prename descclassname"><span class="pre">.</span></code><code class="sig-name descname"><span class="pre">service</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hio.core.serial.serialing.ConsoleServer..service" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="simple">
<dt>Hidden:</dt><dd><p>Hidden:
._line is bytearray of line buffer</p>
</dd>
</dl>
<dl class="py method">
<dt id="hio.core.serial.serialing.ConsoleServer.servicePuts">
<code class="sig-name descname"><span class="pre">servicePuts</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#ConsoleServer.servicePuts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.ConsoleServer.servicePuts" title="Permalink to this definition">¶</a></dt>
<dd><p>Service .puts by putting to serial port</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.ConsoleServer.serviceLines">
<code class="sig-name descname"><span class="pre">serviceLines</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#ConsoleServer.serviceLines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.ConsoleServer.serviceLines" title="Permalink to this definition">¶</a></dt>
<dd><p>Service .lines by getting line from serial port</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.ConsoleServer.service">
<code class="sig-name descname"><span class="pre">service</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#ConsoleServer.service"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.ConsoleServer.service" title="Permalink to this definition">¶</a></dt>
<dd><p>Service puts and lines</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="hio.core.serial.serialing.Device">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hio.core.serial.serialing.</span></code><code class="sig-name descname"><span class="pre">Device</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Device"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Device" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage non blocking IO on serial device port.</p>
<p>Opens non blocking read file descriptor on serial port
Use instance method close to close file descriptor
Use instance methods get &amp; put to read &amp; write to serial device
Needs os module</p>
<dl class="py method">
<dt id="hio.core.serial.serialing.Device.reopen">
<code class="sig-name descname"><span class="pre">reopen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Device.reopen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Device.reopen" title="Permalink to this definition">¶</a></dt>
<dd><p>Idempotently open serial device port
Opens fd on serial port in non blocking mode.</p>
<p>port is the serial port device path name or
if ‘’ then use os.ctermid() which
returns path name of console usually ‘/dev/tty’</p>
<p>os.O_NONBLOCK makes non blocking io
os.O_RDWR allows both read and write.
os.O_NOCTTY don’t make this the controlling terminal of the process
O_NOCTTY is only for cross platform portability BSD never makes it the
controlling terminal</p>
<p>Don’t use print and console at same time since it will mess up non blocking reads.</p>
<p>The input mode, canonical or noncanonical, is controlled by the
ICANON flag see termios module.</p>
<p>Raw mode</p>
<dl class="simple">
<dt>def setraw(fd, when=TCSAFLUSH):</dt><dd><p>Put terminal into a raw mode.
mode = tcgetattr(fd)
mode[IFLAG] = mode[IFLAG] &amp; ~(BRKINT | ICRNL | INPCK | ISTRIP | IXON)
mode[OFLAG] = mode[OFLAG] &amp; ~(OPOST)
mode[CFLAG] = mode[CFLAG] &amp; ~(CSIZE | PARENB)
mode[CFLAG] = mode[CFLAG] | CS8
mode[LFLAG] = mode[LFLAG] &amp; ~(ECHO | ICANON | IEXTEN | ISIG)
mode[CC][VMIN] = 1
mode[CC][VTIME] = 0
tcsetattr(fd, when, mode)</p>
</dd>
</dl>
<p># set up raw mode / no echo / binary
cflag <a href="#id1"><span class="problematic" id="id2">|=  (TERMIOS.CLOCAL|TERMIOS.CREAD)
lflag &amp;= ~(TERMIOS.ICANON|TERMIOS.ECHO|TERMIOS.ECHOE|TERMIOS.ECHOK|TERMIOS.ECHONL|</span></a></p>
<blockquote>
<div><p>TERMIOS.ISIG|TERMIOS.IEXTEN) #|TERMIOS.ECHOPRT</p>
</div></blockquote>
<dl class="simple">
<dt>for flag in (‘ECHOCTL’, ‘ECHOKE’): # netbsd workaround for Erk</dt><dd><dl class="simple">
<dt>if hasattr(TERMIOS, flag):</dt><dd><p>lflag &amp;= ~getattr(TERMIOS, flag)</p>
</dd>
</dl>
</dd>
</dl>
<p>oflag &amp;= ~(TERMIOS.OPOST)
iflag &amp;= ~(TERMIOS.INLCR|TERMIOS.IGNCR|TERMIOS.ICRNL|TERMIOS.IGNBRK)
if hasattr(TERMIOS, ‘IUCLC’):</p>
<blockquote>
<div><p>iflag &amp;= ~TERMIOS.IUCLC</p>
</div></blockquote>
<dl class="simple">
<dt>if hasattr(TERMIOS, ‘PARMRK’):</dt><dd><p>iflag &amp;= ~TERMIOS.PARMRK</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Device.close">
<code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Device.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Device.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes fd.</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Device.receive">
<code class="sig-name descname"><span class="pre">receive</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Device.receive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Device.receive" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads nonblocking characters from serial device up to bs characters
Returns empty bytes if no characters available else returns all available.
In canonical mode no chars are available until newline is entered.</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Device.send">
<code class="sig-name descname"><span class="pre">send</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">b'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Device.send"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Device.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes data bytes to serial device port.
Returns number of bytes sent</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="hio.core.serial.serialing.Serial">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hio.core.serial.serialing.</span></code><code class="sig-name descname"><span class="pre">Serial</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Serial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Serial" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage non blocking IO on serial device port using pyserial</p>
<p>Opens non blocking read file descriptor on serial port
Use instance method close to close file descriptor
Use instance methods get &amp; put to read &amp; write to serial device
Needs os module</p>
<dl class="py method">
<dt id="hio.core.serial.serialing.Serial.reopen">
<code class="sig-name descname"><span class="pre">reopen</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Serial.reopen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Serial.reopen" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens fd on serial port in non blocking mode.</p>
<p>port is the serial port device path name or
if None then use os.ctermid() which returns path name of console
usually ‘/dev/tty’</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Serial.close">
<code class="sig-name descname"><span class="pre">close</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Serial.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Serial.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes .serial</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Serial.receive">
<code class="sig-name descname"><span class="pre">receive</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Serial.receive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Serial.receive" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads nonblocking characters from serial device up to bs characters
Returns empty bytes if no characters available else returns all available.
In canonical mode no chars are available until newline is entered.</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Serial.send">
<code class="sig-name descname"><span class="pre">send</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">b'\n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Serial.send"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Serial.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes data bytes to serial device port.
Returns number of bytes sent</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="hio.core.serial.serialing.Driver">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">hio.core.serial.serialing.</span></code><code class="sig-name descname"><span class="pre">Driver</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">server</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Driver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Driver" title="Permalink to this definition">¶</a></dt>
<dd><p>Nonblocking Serial Device Port Driver</p>
<dl class="py method">
<dt id="hio.core.serial.serialing.Driver.serviceReceives">
<code class="sig-name descname"><span class="pre">serviceReceives</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Driver.serviceReceives"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Driver.serviceReceives" title="Permalink to this definition">¶</a></dt>
<dd><p>Service receives until no more</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Driver.clearRxbs">
<code class="sig-name descname"><span class="pre">clearRxbs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Driver.clearRxbs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Driver.clearRxbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear .rxbs</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Driver.scan">
<code class="sig-name descname"><span class="pre">scan</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Driver.scan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Driver.scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns offset of given start byte in self.rxbs
Returns None if start is not given or not found
If strip then remove any bytes before offset</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Driver.send">
<code class="sig-name descname"><span class="pre">send</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Driver.send"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Driver.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle one tx data</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Driver.tx">
<code class="sig-name descname"><span class="pre">tx</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Driver.tx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Driver.tx" title="Permalink to this definition">¶</a></dt>
<dd><p>Queue data onto .txbs</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Driver.serviceSends">
<code class="sig-name descname"><span class="pre">serviceSends</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Driver.serviceSends"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Driver.serviceSends" title="Permalink to this definition">¶</a></dt>
<dd><p>Service .txbs</p>
</dd></dl>

<dl class="py method">
<dt id="hio.core.serial.serialing.Driver.service">
<code class="sig-name descname"><span class="pre">service</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../_modules/hio/core/serial/serialing.html#Driver.service"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#hio.core.serial.serialing.Driver.service" title="Permalink to this definition">¶</a></dt>
<dd><p>Sevice receives and sends</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020-2021, Samuel M. Smith.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>